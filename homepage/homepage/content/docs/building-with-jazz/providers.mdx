import { CodeGroup } from "@/components/forMdx";
export const metadata = { title: "Providers" };

# Providers

Think of Providers as the magical glue that brings your Jazz application to life. They connect your app to Jazz's collaborative network, making real-time collaboration possible with just a few lines of code.

Now that you've [created your schemas](/docs/building-with-jazz/schemas), it's time to wire everything up and get your collaborative features working across all your users' devices.

## What are Providers?

Providers are special components that you wrap around your application. They're like mission control for your collaborative features - quietly working behind the scenes to handle all the complex stuff while you focus on building your app.

Here's what providers take care of for you:

- **Keeping Everyone in Sync**: They automatically sync data between users so everyone sees the latest changes
- **Saving Progress**: They store data locally so your users never lose their work, even offline
- **Making Schemas Available**: They register your schemas and make them available throughout your app
- **Managing User Accounts**: They connect user identities to your data, enabling true multi-device experiences

## Setting Up Your Provider

Adding a provider to your app is super easy. Here's a simple example in React:

<CodeGroup>
```tsx twoslash
// @filename: schema.ts
import { co, z } from "jazz-tools";

export const MyAppAccount = co.account({
  root: co.map({}),
  profile: co.profile({
    name: z.string(),
  }),
});

// @filename: app.tsx
import * as React from "react";
// ---cut---
// App.tsx
import { JazzProvider } from "jazz-react";
import { MyAppAccount } from "./schema";

export function AppWrapper({ children }: { children: React.ReactNode }) {
  return (
    <JazzProvider
      // Connect to the Jazz network
      sync={{ 
        peer: "wss://cloud.jazz.tools/?key=your-api-key"
      }}
      // Register your account schema
      AccountSchema={MyAppAccount}
    >
      {children}
    </JazzProvider>
  );
}
```
</CodeGroup>

That's it! With just these few lines of code, you've:

- **Connected to Jazz Cloud**: Your app can now sync data across all your users
- **Registered Your Schema**: Your account structure is ready to use throughout your app
- **Enabled Type Safety**: TypeScript knows exactly what your data looks like

## Accessing Your Data

Once your provider is set up, accessing your collaborative data is a breeze. Let's look at how:

### Subscribe to Data with Hooks

The easiest way to get your data is with our hooks. They're just like React's built-in hooks but for your collaborative data:

<CodeGroup>
```tsx twoslash
// @filename: schema.ts
import { co, z } from "jazz-tools";

export const Task = co.map({
  title: z.string(),
  completed: z.boolean(),
});
// @filename: TaskComponent.tsx
import * as React from "react";
import { ID } from "jazz-tools";
import { Task } from "./schema";
// ---cut---
import { useCoState } from "jazz-react";

function TaskComponent({ taskId }: { taskId: ID<typeof Task> }) {
  // This is like useState, but for collaborative data!
  const task = useCoState(Task, taskId);
  
  if (task === undefined) {
    return <div>Loading...</div>;
  }
  
  if (task === null) {
    return <div>Access denied or task not found</div>;
  }
  
  return (
    <div>
      <h2>{task.title}</h2>
      <input 
        type="checkbox" 
        checked={task.completed}
        onChange={() => task.completed = !task.completed}
      />
    </div>
  );
}
```
</CodeGroup>

When you use the `useCoState` hook, it gives you three possible states:

- `undefined` → "Hold on, I'm still loading this data"
- `null` → "Sorry, you don't have permission or this doesn't exist"
- An actual object → "Here's your data, ready to use!"

This makes it super easy to build user-friendly loading states and error handling.

### Load Related Data Too

Got nested data? No problem! You can tell Jazz exactly which related data you want to load:

<CodeGroup>
```tsx twoslash
// @filename: schema.ts
import { co, z } from "jazz-tools";

export const Task = co.map({
  title: z.string(),
  completed: z.boolean(),
});

export const TaskList = co.list(Task);

export const Project = co.map({
  title: z.string(),
  tasks: TaskList,
});
// @filename: ProjectComponent.tsx
import * as React from "react";
import { ID } from "jazz-tools";
import { Project } from "./schema";
// ---cut---
import { useCoState } from "jazz-react";

function ProjectComponent({ projectId }: { projectId: ID<typeof Project> }) {
  // Load a project AND all its tasks in one go
  const project = useCoState(Project, projectId, {
    resolve: {
      tasks: {
        $each: true // Load every task in the list
      }
    }
  });
  
  if (project === undefined) {
    return <div>Loading...</div>;
  }
  
  if (project === null) {
    return <div>Access denied or project not found</div>;
  }
  
  return (
    <div>
      <h1>{project.title}</h1>
      <ul>
        {Array.from(project.tasks || []).map(task => (
          <li key={task?.id}>
            {task?.title} - {task?.completed ? 'Done' : 'Pending'}
          </li>
        ))}
      </ul>
    </div>
  );
}
```
</CodeGroup>

With the `resolve` option, you can load entire trees of data in a single request. This gives you complete control over what data you fetch and when, helping you build lightning-fast interfaces.

## The Magic of Real-Time Collaboration

The coolest part about providers is how they make real-time collaboration just work. When you wrap your app in a provider:

1. **Changes sync automatically**: When someone makes a change, everyone sees it almost instantly
2. **Schemas stay consistent**: Everyone uses the same data structure, so there's no confusion
3. **User permissions just work**: The right people see the right data, automatically

It's like having a virtual whiteboard where everyone can draw together - providers make sure everyone sees the same picture, no matter where they are or what device they're using.

## Next Steps

Now that your application is connected to Jazz, let's explore [Accounts](/docs/building-with-jazz/accounts) - the building blocks of user identity that make multi-device experiences possible.

## Further Reading

Want to dive deeper into providers? Check out these resources:

- [Provider Configuration](/docs/project-setup/providers) - All the options for fine-tuning your providers
- [Authentication States](/docs/authentication/authentication-states) - How providers handle different user login states
- [Subscription and Loading](/docs/react/using-covalues/subscription-and-loading) - Advanced techniques for data loading