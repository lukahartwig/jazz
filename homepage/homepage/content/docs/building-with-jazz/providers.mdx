import { CodeGroup } from "@/components/forMdx";
export const metadata = { title: "Providers" };

# Providers

Providers connect your Jazz application to the collaborative network, enabling real-time sync across devices.

Now that you've [created your schemas](/docs/building-with-jazz/schemas), connect them to your application.

## What are Providers?

Providers are components that wrap your application to enable collaborative features.

Providers handle:

- **Data sync**: Automatic synchronization between users
- **Local storage**: Persistent data storage, including offline
- **Schema registration**: Make schemas available throughout your app
- **Account management**: Connect user identities to data

## Setting Up Your Provider

Add a provider to your React app:

<CodeGroup>
```tsx twoslash
// @filename: schema.ts
import { co, z } from "jazz-tools";

export const MyAppAccount = co.account({
  root: co.map({}),
  profile: co.profile({
    name: z.string(),
  }),
});

// @filename: app.tsx
import * as React from "react";
// ---cut---
// App.tsx
import { JazzProvider } from "jazz-react";
import { MyAppAccount } from "./schema";

export function AppWrapper({ children }: { children: React.ReactNode }) {
  return (
    <JazzProvider
      // Connect to the Jazz network
      sync={{ 
        peer: "wss://cloud.jazz.tools/?key=your-api-key"
      }}
      // Register your account schema
      AccountSchema={MyAppAccount}
    >
      {children}
    </JazzProvider>
  );
}
```
</CodeGroup>

This setup:

- **Connects to Jazz Cloud**: Enables data sync across users
- **Registers schemas**: Makes account structure available
- **Enables type safety**: TypeScript integration

## Accessing Your Data

With the provider configured, access collaborative data using hooks.

### Subscribe to Data with Hooks

Use Jazz hooks to access collaborative data:

<CodeGroup>
```tsx twoslash
// @filename: schema.ts
import { co, z } from "jazz-tools";

export const Task = co.map({
  title: z.string(),
  completed: z.boolean(),
});
// @filename: TaskComponent.tsx
import * as React from "react";
import { ID } from "jazz-tools";
import { Task } from "./schema";
// ---cut---
import { useCoState } from "jazz-react";

function TaskComponent({ taskId }: { taskId: ID<typeof Task> }) {
  // Like useState, but for collaborative data
  const task = useCoState(Task, taskId);
  
  if (task === undefined) {
    return <div>Loading...</div>;
  }
  
  if (task === null) {
    return <div>Access denied or task not found</div>;
  }
  
  return (
    <div>
      <h2>{task.title}</h2>
      <input 
        type="checkbox" 
        checked={task.completed}
        onChange={() => task.completed = !task.completed}
      />
    </div>
  );
}
```
</CodeGroup>

The `useCoState` hook returns three possible states:

- `undefined` → Loading data
- `null` → Permission denied or not found
- An object → Data ready

This enables clear loading states and error handling.

### Load Related Data

Specify which nested data to load:

<CodeGroup>
```tsx twoslash
// @filename: schema.ts
import { co, z } from "jazz-tools";

export const Task = co.map({
  title: z.string(),
  completed: z.boolean(),
});

export const TaskList = co.list(Task);

export const Project = co.map({
  title: z.string(),
  tasks: TaskList,
});
// @filename: ProjectComponent.tsx
import * as React from "react";
import { ID } from "jazz-tools";
import { Project } from "./schema";
// ---cut---
import { useCoState } from "jazz-react";

function ProjectComponent({ projectId }: { projectId: ID<typeof Project> }) {
  // Load a project AND all its tasks in one go
  const project = useCoState(Project, projectId, {
    resolve: {
      tasks: {
        $each: true // Load every task in the list
      }
    }
  });
  
  if (project === undefined) {
    return <div>Loading...</div>;
  }
  
  if (project === null) {
    return <div>Access denied or project not found</div>;
  }
  
  return (
    <div>
      <h1>{project.title}</h1>
      <ul>
        {Array.from(project.tasks || []).map(task => (
          <li key={task?.id}>
            {task?.title} - {task?.completed ? 'Done' : 'Pending'}
          </li>
        ))}
      </ul>
    </div>
  );
}
```
</CodeGroup>

The `resolve` option loads entire data trees in a single request, providing control over data fetching and performance.

## Real-Time Collaboration

Providers enable automatic real-time collaboration:

1. **Automatic sync**: Changes propagate to all connected users
2. **Schema consistency**: Shared data structure across all users
3. **Permission handling**: Access control works automatically

Providers ensure all users see consistent data regardless of device or location.

## Next Steps

Now that your application is connected to Jazz, let's explore [Accounts](/docs/building-with-jazz/accounts) - the building blocks of user identity that make multi-device experiences possible.

## Further Reading

Additional resources:

- [Provider Configuration](/docs/project-setup/providers) - All the options for fine-tuning your providers
- [Authentication States](/docs/authentication/authentication-states) - How providers handle different user login states
- [Subscription and Loading](/docs/react/using-covalues/subscription-and-loading) - Advanced techniques for data loading